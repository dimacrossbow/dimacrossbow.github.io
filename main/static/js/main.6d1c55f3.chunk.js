(this.webpackJsonpshootstorm=this.webpackJsonpshootstorm||[]).push([[0],{235:function(e,t,a){},236:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(1),r=a.n(i),s=a(53),c=a.n(s),o=(a(235),a(236),a(4)),l=a(11),u=a(8),h=a(7),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{name:"paragMain",className:"container-fluid logo-block",children:Object(n.jsx)("img",{className:"logo",src:this.props.image})})}}]),a}(r.a.Component);function j(e){var t=window.location.pathname;return Object(n.jsx)("div",{className:"top-menu container-fluid",children:Object(n.jsx)("ul",{children:e.navigator.map((function(e){return Object(n.jsx)("li",{className:e.route===t?"selected":"",children:Object(n.jsx)("a",{href:e.route,children:e.menu})})}))})})}var b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(j,{navigator:this.props.navigator.filter((function(e){return e.menu}))})}}]),a}(r.a.Component),d=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("header",{children:[Object(n.jsx)(g,{image:"logo.png"}),Object(n.jsx)(b,{navigator:Ae.pages})]})}}]),a}(r.a.Component),p=a(441),m=a(442),O=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(p.a,{fill:!0,play:3e3,children:[Object(n.jsx)(m.a,{fit:"cover",src:"/banner_1.jpg"}),Object(n.jsx)(m.a,{fit:"cover",src:"/banner_2.jpg"}),Object(n.jsx)(m.a,{fit:"cover",src:"/banner_3.jpg"})]})}}]),a}(r.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"container panel",children:Object(n.jsx)(O,{})}),Object(n.jsx)("div",{className:"container panel",children:Object(n.jsxs)("div",{className:"about",children:[Object(n.jsx)("h1",{className:"about-text",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(n.jsx)("p",{children:Object(n.jsx)("span",{className:"simple-text",children:"\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u043c \u0432 \u0432\u0430\u0448\u0438\u0445 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430\u0445 \u043f\u043e \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0435 \u0438\u0437 \u043b\u0443\u043a\u0430, \u0430\u0440\u0431\u0430\u043b\u0435\u0442\u0430 \u0438 \u0442.\u0434. \u0412\u044b \u0441\u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0442\u043c\u0435\u0447\u0430\u0442\u044c \u043f\u043e\u043f\u0430\u0434\u0430\u043d\u0438\u044f, \u0432\u0435\u0437\u0442\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0432\u0441\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043f\u043e \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0435"})})]})}),Object(n.jsx)("div",{className:"container panel",children:Object(n.jsxs)("div",{className:"about",children:[Object(n.jsx)("h1",{className:"about-text",children:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c"}),Object(n.jsx)("p",{children:Object(n.jsxs)("span",{className:"simple-text",children:["\u0425\u043e\u0447\u0443 \u0432\u044b\u0440\u0430\u0437\u0438\u0442\u044c \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u043c\u0443 \u0446\u0435\u043d\u0442\u0440\u0443 ",Object(n.jsx)("a",{className:"simple-link",title:"\u0421\u0430\u0439\u0442 \u0446\u0435\u043d\u0442\u0440\u0430",href:"https://www.specialist.ru/",children:'"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"'})," \u0437\u0430 \u0443\u0434\u043e\u0431\u043d\u044b\u0435 \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043a\u0443\u0440\u0441\u044b."]})}),Object(n.jsx)("p",{children:Object(n.jsxs)("span",{className:"simple-text",children:["\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0445\u043e\u0447\u0443 \u043f\u043e\u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u0442\u044c ",Object(n.jsx)("a",{className:"simple-link",title:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f",href:"https://www.specialist.ru/trainer/%d1%82%d1%80%d0%b0%d1%81",children:"\u0422\u0430\u0440\u0430\u0441\u043e\u0432\u0430 \u0410\u043b\u0435\u043a\u0441\u0435\u044f \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u043e\u0432\u0438\u0447\u0430"})," - \u0433\u0440\u0430\u043c\u043e\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u0430 \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0437\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u0435\u043a\u0446\u0438\u0439 \u0438 \u043d\u0435\u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0435 \u0442\u0435\u0440\u043f\u0435\u043d\u0438\u0435, \u0431\u0435\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u044f \u0431\u044b \u043d\u0435 \u0441\u0434\u0435\u043b\u0430\u043b \u044d\u0442\u043e\u0442 \u043c\u0438\u043d\u0438-\u043f\u0440\u043e\u0435\u043a\u0442 :) "]})})]})})]})}}]),a}(r.a.Component),v=a(12),y=a.n(v),x=a(17),T=a(9),w=function e(t){Object(o.a)(this,e),this.trainingParamsUuid=null,this.isTrainingDayOpen=!1,t&&(this.trainingParamsUuid=t.trainingParamsUuid?t.trainingParamsUuid:null,this.isTrainingDayOpen=!!t.isTrainingDayOpen&&t.isTrainingDayOpen)},P=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"uuid",value:function(){return Math.random().toString(36).substr(2,9)}},{key:"secondsToTime",value:function(e){var t=Math.trunc(e/3600),a=Math.trunc((e-3600*t)/60),n=e-3600*t-60*a;return(t=t<=9?"0".concat(t):t)+":"+(a=a<=9?"0".concat(a):a)+":"+(n=n<=9?"0".concat(n):n)}},{key:"rangeBetweenPoint",value:function(e,t){return Math.round((300-Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))/300*100)}}]),e}(),k=a(54),C=a.n(k),S=function e(t){Object(o.a)(this,e),this.uuid=P.uuid(),t&&(this.uuid=t.uuid?t.uuid:P.uuid())},N=function e(t){Object(o.a)(this,e),this.x=null,this.y=null,this.radius=null,t&&(this.x=t.x?t.x:null,this.y=t.y?t.y:null,this.radius=t.radius?t.radius:null)},A=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).shots=[],n.time=null,e&&(n.time=e.time?e.time:null),n}return Object(l.a)(a,[{key:"setShot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this.shots.push(e)}},{key:"removeShot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=this.shots.findIndex((function(t){return t.uuid===e.uuid}));-1!==t&&this.shots.splice(t)}}}]),a}(S),_=function(){function e(t){Object(o.a)(this,e),this.trainingDay=null,this.trainingDay=t||null}return Object(l.a)(e,[{key:"countShots",value:function(){return this.trainingDay.shots.length}},{key:"getTime",value:function(){return this.trainingDay.time}},{key:"countAccuracyData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=this.trainingDay.shots.map((function(a){return P.rangeBetweenPoint({x:e,y:t},{x:a.x,y:a.y})}));return a}},{key:"countAverageAccuracy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,a=this.countAccuracyData(e,t);return a.length>0?Math.round(a.reduce((function(e,t){return e+t}))/a.length):null}}]),e}(),D=a(85),E=a(443),W=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(D.a,{className:"info-box",children:[Object(n.jsx)(D.a,{className:"info-box-label",children:Object(n.jsx)(E.a,{className:"info-box-label-text",children:this.props.label})}),Object(n.jsx)(D.a,{className:"info-box-value",children:Object(n.jsx)(E.a,{className:"info-box-value-text",children:this.props.value})})]})}}]),a}(r.a.Component),R=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={time:0,isPlaying:!1},n.play=n.play.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"getTime",value:function(){return this.state.time}},{key:"stop",value:function(){this.setState({isPlaying:!1})}},{key:"reset",value:function(){this.setState({time:0})}},{key:"play",value:function(){var e=this;this.setState({isPlaying:!0});var t=setInterval((function(){e.state.isPlaying&&e.setState({time:e.state.time+1}),e.state.isPlaying||clearInterval(t)}),1e3)}},{key:"render",value:function(){return Object(n.jsx)(D.a,{className:"timer",children:Object(n.jsx)(E.a,{className:"timer-text",children:P.secondsToTime(this.state.time)})})}}]),a}(r.a.Component),B=a(31),M=a(117),L=a(186),I=Object(L.a)("entries"),Y=function(){function e(t){if(Object(o.a)(this,e),Object.defineProperty(this,I,{writable:!0,value:[]}),t&&"object"==typeof t){var a=Object.entries(t);Object(M.a)(this,I)[I]=a;for(var n=0,i=a;n<i.length;n++){var r=Object(B.a)(i[n],2),s=r[0],c=r[1];this[s]=c}Object.freeze(this)}}return Object(l.a)(e,[{key:"entries",value:function(){return Object(M.a)(this,I)[I]}}]),e}(),U=new Y({WEAPON_TYPE_BOW:"bow",WEAPON_TYPE_CROSSBOW:"crossbow"}),J=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={shots:[]},n.updateCanvas=n.updateCanvas.bind(Object(T.a)(n)),n.onTargetClick=n.onTargetClick.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(){this.updateCanvas()}},{key:"updateCanvas",value:function(){var e=this,t=this.refs.targetCanvas.getContext("2d"),a=new Image;this.props.trainingParams.weaponType===U.WEAPON_TYPE_BOW&&(a.src=this.props.trainingParams.trainingParamsBow.targetType.image),this.props.trainingParams.weaponType===U.WEAPON_TYPE_CROSSBOW&&(a.src=this.props.trainingParams.trainingParamsCrossbow.targetType.image),a.onload=function(){t.drawImage(a,0,0,600,600),e.state.shots.forEach((function(e){t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fillStyle="rgba(100,150,185,0.5)",t.fill(),t.lineWidth=1,t.strokeStyle="black",t.stroke(),t.beginPath(),t.arc(e.x,e.y,1,0,2*Math.PI,!1),t.fillStyle="black",t.fill(),t.lineWidth=1,t.strokeStyle="black",t.stroke()}))}}},{key:"onTargetClick",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a,n,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refs.targetCanvas;case 2:return a=e.sent,e.next=5,a.getBoundingClientRect();case 5:return n=e.sent,e.next=8,t.clientX;case 8:return e.t0=e.sent,e.t1=n.left,i=e.t0-e.t1,e.next=13,t.clientY;case 13:return e.t2=e.sent,e.t3=n.top,r=e.t2-e.t3,t.preventDefault(),e.next=19,this.setState({shots:this.state.shots.concat(new N({x:i,y:r,radius:10}))});case 19:return this.props.onSetShot(this.state.shots),e.next=22,this.componentDidUpdate();case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsx)("canvas",{onClick:this.onTargetClick,id:"targetCanvas",ref:"targetCanvas",width:600,height:600})}}]),a}(r.a.Component),G=a(46),V=function(e){return Object(n.jsx)("div",{children:e.data.length>0&&Object(n.jsxs)(G.b,{width:1100,height:250,data:e.data.map((function(e,t){return{name:"\u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c ".concat(e.toString()).concat("%"),accuracy:e,amt:100}})),margin:{top:10,right:30,left:0,bottom:0},children:[Object(n.jsx)("defs",{children:Object(n.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(n.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(n.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(n.jsx)(G.e,{dataKey:"name"}),Object(n.jsx)(G.f,{}),Object(n.jsx)(G.c,{strokeDasharray:"3 3"}),Object(n.jsx)(G.d,{}),Object(n.jsx)(G.a,{type:"monotone",dataKey:"accuracy",stroke:"#ffffff",fillOpacity:1,fill:"url(#colorUv)"})]})})},F=a(446),H=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trainingParams:null},n.onSetShot=n.onSetShot.bind(Object(T.a)(n)),n.closeTraining=n.closeTraining.bind(Object(T.a)(n)),n.currentDay=n.currentDay.bind(Object(T.a)(n)),n.displayCurrentTime=n.displayCurrentTime.bind(Object(T.a)(n)),n.displayCurrentShot=n.displayCurrentShot.bind(Object(T.a)(n)),n.displayCurrentAverageAccuracy=n.displayCurrentAverageAccuracy.bind(Object(T.a)(n)),n.displayCurrentAccuracyData=n.displayCurrentAccuracyData.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=Object(x.a)(y.a.mark((function e(){var t,a,n,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("trainingCurrent"))){e.next=10;break}if(a=new w(JSON.parse(t)),!(n=localStorage.getItem("trainingList"))){e.next=10;break}if(i=JSON.parse(n),!(r=i.find((function(e){return e.uuid===a.trainingParamsUuid})))){e.next=10;break}return e.next=10,this.setState({trainingParams:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.refs.timer.reset(),this.refs.timer.play()}},{key:"componentWillUnmount",value:function(){var e=Object(x.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"currentDay",value:function(){return this.state.trainingParams?C.a.last(this.state.trainingParams.days):null}},{key:"closeTraining",value:function(){var e=Object(x.a)(y.a.mark((function e(){var t,a,n,i=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.trainingParams){e.next=18;break}return e.next=3,localStorage.getItem("trainingList");case 3:if(!(t=e.sent)){e.next=18;break}return e.next=7,JSON.parse(t);case 7:return a=e.sent,e.next=10,a.find((function(e){return e.uuid===i.state.trainingParams.uuid}));case 10:if(!(n=e.sent)){e.next=18;break}return this.currentDay().time=this.refs.timer.getTime(),n.days=this.state.trainingParams.days,e.next=17,localStorage.setItem("trainingList",JSON.stringify(a));case 17:this.props.onUpdate();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSetShot",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.assign(this.state.trainingParams);case 2:return a=e.sent,e.next=5,C.a.last(a.days);case 5:return e.sent.shots=t,e.next=9,this.setState({trainingParams:a});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"displayCurrentTime",value:function(){var e=this.currentDay();if(e){var t=new _(e);return P.secondsToTime(t.getTime())}return"-"}},{key:"displayCurrentShot",value:function(){var e=this.currentDay();return e?new _(e).countShots():"-"}},{key:"displayCurrentAverageAccuracy",value:function(){var e=this.currentDay();if(e){var t=new _(e).countAverageAccuracy();if(t)return t.toString().concat("%")}return"-"}},{key:"displayCurrentAccuracyData",value:function(){var e=this.currentDay();return e?new _(e).countAccuracyData():[]}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"container panel",children:Object(n.jsx)(R,{ref:"timer"})}),Object(n.jsxs)("div",{className:"container panel",children:[Object(n.jsx)(J,{onSetShot:this.onSetShot,trainingParams:this.state.trainingParams}),Object(n.jsx)(V,{data:this.displayCurrentAccuracyData()})]}),Object(n.jsx)("div",{className:"container panel",children:Object(n.jsxs)(F.a,{columns:["auto","auto"],rows:["auto"],gap:"small",areas:[{name:"shots",start:[0,0],end:[0,0]},{name:"accuracy",start:[1,0],end:[1,0]}],children:[Object(n.jsx)(D.a,{gridArea:"shots",pad:"medium",children:Object(n.jsx)(W,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432",value:this.displayCurrentShot()})}),Object(n.jsx)(D.a,{gridArea:"accuracy",pad:"medium",children:Object(n.jsx)(W,{label:"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u044b",value:this.displayCurrentAverageAccuracy()})})]})}),Object(n.jsx)("div",{className:"container panel",children:Object(n.jsx)("a",{className:"btn",onClick:this.closeTraining,children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"})})]})}}]),a}(r.a.Component),z=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return a}(S),K=new Y({TARGET_TYPE_CLASSIC_ARCHERY:"classic_archery",TARGET_TYPE_SOLID_RED:"solid_red"}),q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).targetType=K.TARGET_TYPE_CLASSIC_ARCHERY,n.image=null,n.icon=null,n.label="",e&&(n.targetType=e.targetType?e.targetType:K.TARGET_TYPE_CLASSIC_ARCHERY,n.image=e.image?e.image:null,n.icon=e.icon?e.icon:null,n.label=e.label?e.label:""),n}return a}(S),X=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).range=0,n.rangeMin=0,n.rangeMax=0,n.weaponType=null,n.targetType=null,e&&(n.range=e.range?e.range:0,n.rangeMin=e.rangeMin?e.rangeMin:0,n.rangeMax=e.rangeMax?e.rangeMax:0,n.weaponType=e.weaponType?e.weaponType:null,n.targetType=e.targetType?e.targetType:null),n}return a}(z),Q=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).range=0,n.rangeMin=0,n.rangeMax=0,n.weaponType=null,n.targetType=null,e&&(n.range=e.range?e.range:0,n.rangeMin=e.rangeMin?e.rangeMin:0,n.rangeMax=e.rangeMax?e.rangeMax:0,n.weaponType=e.weaponType?e.weaponType:null,n.targetType=e.targetType?e.targetType:null),n}return a}(z),Z=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).weaponType=U.WEAPON_TYPE_BOW,n.title="",n.image="",n.trainingParamsBow=null,n.trainingParamsCrossbow=null,e&&(n.weaponType=e.weaponType?e.weaponType:U.WEAPON_TYPE_BOW,n.title=e.title?e.title:"",n.image=e.image?e.image:"",n.trainingParamsBow=e.trainingParamsBow?new X(e.trainingParamsBow):null,n.trainingParamsCrossbow=e.trainingParamsCrossbow?new Q(e.trainingParamsCrossbow):null),n}return a}(S),$=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).name="",n.days=[],e&&(n.name=e.name?e.name:"",n.days=e.days?e.days:[]),n}return Object(l.a)(a,[{key:"createDay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this.days.push(e)}}]),a}(Z),ee=function(){function e(t){Object(o.a)(this,e),this.training=null,this.training=t||null}return Object(l.a)(e,[{key:"countDays",value:function(){return this.training.days.length}},{key:"countTotalShots",value:function(){return this.training.days.reduce((function(e,t){var a=new _(t);return e+Number(a.countShots())}),0)}},{key:"countTotalTime",value:function(){return this.training.days.reduce((function(e,t){return e+new _(t).getTime()}),0)}},{key:"countAverageAccuracy",value:function(){return this.training.days.length>0?Math.round(this.training.days.reduce((function(e,t){var a=new _(t);return null!==a.countAverageAccuracy()?e+Number(a.countAverageAccuracy()):e}),0)/this.training.days.length):null}},{key:"countAccuracyData",value:function(){return this.training.days.length>0?this.training.days.map((function(e){var t=new _(e);return t.countAverageAccuracy()?t.countAverageAccuracy():0})):[]}}]),e}(),te=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).displayTotalTime=n.displayTotalTime.bind(Object(T.a)(n)),n.displayTotalDays=n.displayTotalDays.bind(Object(T.a)(n)),n.displayTotalShots=n.displayTotalShots.bind(Object(T.a)(n)),n.displayTotalAccuracy=n.displayTotalAccuracy.bind(Object(T.a)(n)),n.displayAccuracyData=n.displayAccuracyData.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"displayTotalTime",value:function(){if(this.props.trainingParams){var e=new ee(this.props.trainingParams);return P.secondsToTime(e.countTotalTime())}return P.secondsToTime(0)}},{key:"displayTotalDays",value:function(){return this.props.trainingParams?new ee(this.props.trainingParams).countDays():0}},{key:"displayTotalShots",value:function(){return this.props.trainingParams?new ee(this.props.trainingParams).countTotalShots():"-"}},{key:"displayTotalAccuracy",value:function(){if(this.props.trainingParams){var e=new ee(this.props.trainingParams);if(null!==e.countAverageAccuracy())return e.countAverageAccuracy().toString().concat("%")}return"-"}},{key:"displayAccuracyData",value:function(){return this.props.trainingParams?new ee(this.props.trainingParams).countAccuracyData():[]}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container panel",children:[Object(n.jsx)(V,{data:this.displayAccuracyData()}),Object(n.jsxs)(F.a,{columns:["auto","auto","auto"],rows:["auto","auto"],gap:"small",areas:[{name:"time",start:[0,0],end:[0,1]},{name:"shots",start:[0,1],end:[0,1]},{name:"accuracy",start:[1,1],end:[1,1]},{name:"days",start:[2,1],end:[2,1]}],children:[Object(n.jsx)(D.a,{gridArea:"time",pad:"medium",children:Object(n.jsx)(W,{label:"\u041e\u0431\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f",value:this.displayTotalTime()})}),Object(n.jsx)(D.a,{gridArea:"shots",pad:"medium",children:Object(n.jsx)(W,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432",value:this.displayTotalShots()})}),Object(n.jsx)(D.a,{gridArea:"accuracy",pad:"medium",children:Object(n.jsx)(W,{label:"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u044b",value:this.displayTotalAccuracy()})}),Object(n.jsx)(D.a,{gridArea:"days",pad:"medium",children:Object(n.jsx)(W,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439",value:this.displayTotalDays()})})]})]})}}]),a}(r.a.Component),ae=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={isTrainingOpen:!1,trainingParams:null},n.openTraining=n.openTraining.bind(Object(T.a)(n)),n.closeTraining=n.closeTraining.bind(Object(T.a)(n)),n.update=n.update.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=Object(x.a)(y.a.mark((function e(){var t,a,n,i,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("trainingCurrent"))){e.next=10;break}if(a=new w(JSON.parse(t)),!(n=localStorage.getItem("trainingList"))){e.next=10;break}if(i=JSON.parse(n),!(r=i.find((function(e){return e.uuid===a.trainingParamsUuid})))){e.next=10;break}return e.next=10,this.setState({trainingParams:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(x.a)(y.a.mark((function e(){var t,a,n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.state.trainingParams)){e.next=11;break}if(!(a=localStorage.getItem("trainingList"))){e.next=11;break}if(n=JSON.parse(a),!(i=n.find((function(e){return e.uuid===t.uuid})))){e.next=11;break}return e.next=9,this.setState({trainingParams:i});case 9:return e.next=11,this.setState({isTrainingOpen:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openTraining",value:function(){var e=this,t=localStorage.getItem("trainingList");if(t){var a=JSON.parse(t),n=a.find((function(t){return t.uuid===e.state.trainingParams.uuid}));n&&(n.days.push(new A),localStorage.setItem("trainingList",JSON.stringify(a)),this.setState({trainingParams:n}),this.setState({isTrainingOpen:!0}))}}},{key:"closeTraining",value:function(){var e=Object(x.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({isTrainingOpen:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("main",{children:[!this.state.isTrainingOpen&&Object(n.jsx)("div",{className:"container panel",children:Object(n.jsx)("a",{onClick:this.openTraining,className:"btn",children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"})}),this.state.isTrainingOpen&&Object(n.jsx)(H,{onUpdate:this.update}),!this.state.isTrainingOpen&&Object(n.jsx)(te,{trainingParams:this.state.trainingParams})]})}}]),a}(r.a.Component),ne=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).weaponType=null,n.label="",n.image="",n.icon="",e&&(n.weaponType=e.weaponType?e.weaponType:null,n.label=e.label?e.label:"",n.image=e.image?e.image:"",n.icon=e.icon?e.icon:""),n}return a}(S),ie=new Y({WEAPON_BOWS_TYPE_RECURVE:"recurve",WEAPON_BOWS_TYPE_COMPOUND:"compound"}),re=new Y({WEAPON_CROSSBOWS_TYPE_RECURVE:"recurve",WEAPON_CROSSBOWS_TYPE_COMPOUND:"compound"}),se={trainingParamsList:[new Z({weaponType:U.WEAPON_TYPE_BOW,title:"\u0421\u0442\u0435\u043d\u0434\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0430 \u0438\u0437 \u043b\u0443\u043a\u0430",image:"service_1.png",trainingParamsBow:new X({})}),new Z({weaponType:U.WEAPON_TYPE_CROSSBOW,title:"\u0421\u0442\u0435\u043d\u0434\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0430 \u0438\u0437 \u0430\u0440\u0431\u0430\u043b\u0435\u0442\u0430",image:"service_2.png",trainingParamsCrossbow:new Q({})})],trainingTargetList:[new q({targetType:K.TARGET_TYPE_CLASSIC_ARCHERY,image:"target_type_classic_archery.png",icon:"target_type_classic_archery_icon.png",label:"\u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043c\u0438\u0448\u0435\u043d\u044c"}),new q({targetType:K.TARGET_TYPE_SOLID_RED,image:"target_type_classic_black.png",icon:"target_type_classic_black_icon.png",label:"\u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0451\u0440\u043d\u0430\u044f \u043c\u0438\u0448\u0435\u043d\u044c"})],trainingWeaponBowsList:[new ne({weaponType:ie.WEAPON_BOWS_TYPE_RECURVE,label:"\u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u044b\u0439 \u043b\u0443\u043a",image:"bow_type_recurve.png",icon:"bow_type_recurve.png"}),new ne({weaponType:ie.WEAPON_BOWS_TYPE_COMPOUND,label:"\u0411\u043b\u043e\u0447\u043d\u044b\u0439 \u043b\u0443\u043a",image:"bow_type_compound.png",icon:"bow_type_compound.png"})],trainingWeaponCrossbowsList:[new ne({weaponType:re.WEAPON_CROSSBOWS_TYPE_RECURVE,label:"\u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u044b\u0439 \u0430\u0440\u0431\u0430\u043b\u0435\u0442",image:"crossbow_type_recurve.png",icon:"crossbow_type_recurve.png"}),new ne({weaponType:re.WEAPON_CROSSBOWS_TYPE_COMPOUND,label:"\u0411\u043b\u043e\u0447\u043d\u044b\u0439 \u0430\u0440\u0431\u0430\u043b\u0435\u0442",image:"crossbow_type_compound.png",icon:"crossbow_type_compound.png"})]},ce=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"onChoose",value:function(e){(0,this.props.handleChoose)(e)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"container panel",children:[Object(n.jsx)("h3",{className:"caption",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0435\u0436\u0438\u043c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438:"}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{className:"service",children:se.trainingParamsList.map((function(t){return Object(n.jsxs)("div",{className:e.props.selectTrainingParams.weaponType===t.weaponType?"service-box selected":"service-box",style:{background:"url("+t.image+")"},children:[Object(n.jsx)("div",{className:"service-box-header"}),Object(n.jsxs)("div",{className:"service-box-footer",children:[Object(n.jsx)("div",{className:"service-box-footer-title",children:t.title}),Object(n.jsx)("div",{className:"service-box-footer-caption",children:Object(n.jsx)("a",{className:"btn",onClick:function(a){a.preventDefault(),e.onChoose(t)},children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"})})]})]},t.uuid)}))})]})}}]),a}(r.a.Component),oe=a(440),le=a(444),ue=function(e){var t=r.a.useState(0),a=Object(B.a)(t,2),i=a[0],s=a[1],c=e.title?e.title:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435",o=e.unit?e.unit:"\u043c\u0435\u0442\u0440\u043e\u0432";return Object(n.jsxs)(D.a,{gridArea:"title",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"6",children:c.concat(" ").concat(i.toString()).concat(" ").concat(o)}),Object(n.jsx)(le.a,{className:"ranger",value:i,min:e.min,max:e.max,name:e.name,step:1,onChange:function(t){s(t.target.value),e.onChange(t.target.value)}})]})},he=a(439),ge=function(e){var t=r.a.useState(""),a=Object(B.a)(t,2),i=a[0],s=a[1];return Object(n.jsx)(he.a,{className:"inp",placeholder:e.placeholder,value:i,onChange:function(t){s(t.target.value),e.onChange(t.target.value)}})},je=(a(438),function(e){var t=r.a.useState(e.data&&e.data.length?C.a.first(e.data):null),a=Object(B.a)(t,2),s=a[0],c=a[1];return Object(i.useEffect)((function(){e.onChoose(s)}),[]),Object(n.jsx)(D.a,{className:"image-select",children:Object(n.jsx)(D.a,{className:"image-select-container",children:e.data.map((function(t){return Object(n.jsxs)(D.a,{className:"image-select-item",children:[Object(n.jsx)(m.a,{onClick:function(a){c(t),e.onChoose(t)},className:s&&t.uuid===s.uuid?"image-select-item-image selected":"image-select-item-image",src:t.icon}),Object(n.jsx)(E.a,{className:"image-select-item-text",children:t.label})]})}))})})}),be=(new Y({BOW_TYPE_RECURVE:"recurve",BOW_TYPE_COMPOUND:"compound"}),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state=new Z(e.trainingParams),n.saveTraining=n.saveTraining.bind(Object(T.a)(n)),n.changeName=n.changeName.bind(Object(T.a)(n)),n.chooseTarget=n.chooseTarget.bind(Object(T.a)(n)),n.chooseWeapon=n.chooseWeapon.bind(Object(T.a)(n)),n.changeRange=n.changeRange.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"saveTraining",value:function(){this.props.saveTraining(this.state)}},{key:"changeName",value:function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({name:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"chooseTarget",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.assign(this.state.trainingParamsBow);case 2:return a=e.sent,e.next=5,Object.assign(t);case 5:return a.targetType=e.sent,e.next=8,this.setState({trainingParamsBow:Object.assign(a)});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"chooseWeapon",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.assign(this.state.trainingParamsBow);case 2:return a=e.sent,e.next=5,Object.assign(t);case 5:return a.weaponType=e.sent,e.next=8,this.setState({trainingParamsBow:Object.assign(a)});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeRange",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.assign(this.state.trainingParamsBow);case 2:return(a=e.sent).range=t,e.next=6,this.setState({trainingParamsBow:Object.assign(a)});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"container panel",children:Object(n.jsxs)(F.a,{columns:["auto","auto"],rows:["auto","auto","auto","auto","auto"],gap:"small",areas:[{name:"title",start:[0,0],end:[1,0]},{name:"target",start:[0,1],end:[1,1]},{name:"type",start:[0,2],end:[1,2]},{name:"ranger",start:[0,3],end:[1,3]},{name:"tool",start:[0,4],end:[1,4]}],children:[Object(n.jsxs)(D.a,{gridArea:"title",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"3",children:"\u041d\u0430\u0437\u043e\u0432\u0438\u0442\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443:"}),Object(n.jsx)(ge,{onChange:function(t){e.changeName(t)}})]}),Object(n.jsxs)(D.a,{gridArea:"target",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"3",children:"\u0412\u044b\u0431\u043e\u0440 \u043c\u0438\u0448\u0435\u043d\u0438:"}),Object(n.jsx)(je,{onChoose:this.chooseTarget,data:se.trainingTargetList})]}),Object(n.jsxs)(D.a,{gridArea:"type",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"3",children:"\u0422\u0438\u043f \u043b\u0443\u043a\u0430:"}),Object(n.jsx)(je,{onChoose:this.chooseWeapon,data:se.trainingWeaponBowsList})]}),Object(n.jsxs)(D.a,{gridArea:"ranger",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"3",children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u043c\u0438\u0448\u0435\u043d\u0438:"}),Object(n.jsx)(ue,{onChange:function(t){e.changeRange(t)},min:"0",max:"100",name:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u043c\u0438\u0448\u0435\u043d\u0438"})]}),Object(n.jsx)(D.a,{gridArea:"tool",pad:"medium",children:Object(n.jsx)("a",{onClick:this.saveTraining,className:"btn",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"})})]})})}}]),a}(r.a.Component)),de=(new Y({CROSSBOW_TYPE_RECURVE:"recurve",CROSSBOW_TYPE_COMPOUND:"compound"}),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state=new Z(e.trainingParams),n.saveTraining=n.saveTraining.bind(Object(T.a)(n)),n.changeName=n.changeName.bind(Object(T.a)(n)),n.chooseTarget=n.chooseTarget.bind(Object(T.a)(n)),n.chooseWeapon=n.chooseWeapon.bind(Object(T.a)(n)),n.changeRange=n.changeRange.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"saveTraining",value:function(){this.props.saveTraining(this.state)}},{key:"changeName",value:function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({name:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"chooseTarget",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.assign(this.state.trainingParamsCrossbow);case 2:return a=e.sent,e.next=5,Object.assign(t);case 5:return a.targetType=e.sent,e.next=8,this.setState({trainingParamsCrossbow:Object.assign(a)});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"chooseWeapon",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.assign(this.state.trainingParamsCrossbow);case 2:return a=e.sent,e.next=5,Object.assign(t);case 5:return a.weaponType=e.sent,e.next=8,this.setState({trainingParamsCrossbow:Object.assign(a)});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeRange",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.assign(this.state.trainingParamsCrossbow);case 2:return(a=e.sent).range=t,e.next=6,this.setState({trainingParamsCrossbow:Object.assign(a)});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"container panel",children:Object(n.jsxs)(F.a,{columns:["auto","auto"],rows:["auto","auto","auto","auto","auto"],gap:"small",areas:[{name:"title",start:[0,0],end:[1,0]},{name:"target",start:[0,1],end:[1,1]},{name:"type",start:[0,2],end:[1,2]},{name:"ranger",start:[0,3],end:[1,3]},{name:"tool",start:[0,4],end:[1,4]}],children:[Object(n.jsxs)(D.a,{gridArea:"title",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"3",children:"\u041d\u0430\u0437\u043e\u0432\u0438\u0442\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443:"}),Object(n.jsx)(ge,{onChange:function(t){e.changeName(t)}})]}),Object(n.jsxs)(D.a,{gridArea:"target",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"3",children:"\u0412\u044b\u0431\u043e\u0440 \u043c\u0438\u0448\u0435\u043d\u0438:"}),Object(n.jsx)(je,{onChoose:this.chooseTarget,data:se.trainingTargetList})]}),Object(n.jsxs)(D.a,{gridArea:"type",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"3",children:"\u0422\u0438\u043f \u0430\u0440\u0431\u0430\u043b\u0435\u0442\u0430:"}),Object(n.jsx)(je,{onChoose:this.chooseWeapon,data:se.trainingWeaponCrossbowsList})]}),Object(n.jsxs)(D.a,{gridArea:"ranger",pad:"medium",children:[Object(n.jsx)(oe.a,{margin:"none",textAlign:"start",color:"light-1",level:"3",children:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u043c\u0438\u0448\u0435\u043d\u0438:"}),Object(n.jsx)(ue,{onChange:function(t){e.changeRange(t)},min:"0",max:"100",name:"\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u043c\u0438\u0448\u0435\u043d\u0438"})]}),Object(n.jsx)(D.a,{gridArea:"tool",pad:"medium",children:Object(n.jsx)("a",{onClick:this.saveTraining,className:"btn",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"})})]})})}}]),a}(r.a.Component)),pe=function(e){if(e.trainingParams)switch(e.trainingParams.weaponType){case U.WEAPON_TYPE_BOW:return Object(n.jsx)(be,{saveTraining:e.saveTraining,trainingParams:e.trainingParams});case U.WEAPON_TYPE_CROSSBOW:return Object(n.jsx)(de,{saveTraining:e.saveTraining,trainingParams:e.trainingParams})}return Object(n.jsx)(be,{saveTraining:e.saveTraining,trainingParams:e.trainingParams})},me=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trainingParams:se.trainingParamsList[0],trainingList:null},n.onChoose=n.onChoose.bind(Object(T.a)(n)),n.createTraining=n.createTraining.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"onChoose",value:function(){var e=Object(x.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({trainingParams:new Z(t)});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createTraining",value:function(){var e=Object(x.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new $(t)).uuid=P.uuid(),e.next=4,JSON.parse(localStorage.getItem("trainingList"));case 4:if(!(a=e.sent)){e.next=8;break}return e.next=8,this.setState({trainingList:a});case 8:if(!this.state.trainingList){e.next=11;break}return e.next=11,this.setState({trainingList:this.state.trainingList.concat([t])});case 11:if(this.state.trainingList){e.next=14;break}return e.next=14,this.setState({trainingList:[t]});case 14:return e.next=16,localStorage.setItem("trainingList",JSON.stringify(this.state.trainingList));case 16:return n=new w({trainingParamsUuid:t.uuid}),e.next=19,localStorage.setItem("trainingCurrent",JSON.stringify(n));case 19:document.location="/training_start";case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(ce,{selectTrainingParams:this.state.trainingParams,handleChoose:this.onChoose}),Object(n.jsx)(pe,{saveTraining:this.createTraining,trainingParams:this.state.trainingParams})]})}}]),a}(r.a.Component),Oe=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).deleteTrainingParams=n.deleteTrainingParams.bind(Object(T.a)(n)),n.openTraining=n.openTraining.bind(Object(T.a)(n)),n.displayTotalDays=n.displayTotalDays.bind(Object(T.a)(n)),n.displayTotalShots=n.displayTotalShots.bind(Object(T.a)(n)),n.displayTotalAccuracy=n.displayTotalAccuracy.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"openTraining",value:function(){var e=Object(x.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new w({trainingParamsUuid:this.props.trainingParams.uuid}),e.next=3,localStorage.setItem("trainingCurrent",JSON.stringify(t));case 3:document.location="/training_start";case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteTrainingParams",value:function(e){e.preventDefault(),this.props.onDelete(this.props.trainingParams)}},{key:"displayTotalDays",value:function(){return this.props.trainingParams?new ee(this.props.trainingParams).countDays():0}},{key:"displayTotalShots",value:function(){return this.props.trainingParams?new ee(this.props.trainingParams).countTotalShots():"-"}},{key:"displayTotalAccuracy",value:function(){if(this.props.trainingParams){var e=new ee(this.props.trainingParams);if(null!==e.countAverageAccuracy())return e.countAverageAccuracy().toString().concat("%")}return"-"}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"training-box-container",children:[Object(n.jsxs)("div",{className:"training-box",children:[Object(n.jsx)("div",{className:"training-box-avatar",children:Object(n.jsx)("div",{className:"training-box-avatar-img",style:{backgroundImage:"url("+this.props.trainingParams.image+")"}})}),Object(n.jsxs)("div",{className:"training-box-info",children:[Object(n.jsx)("div",{className:"training-box-info-title",children:this.props.trainingParams.name}),Object(n.jsx)("div",{className:"training-box-info-type",children:"\u0422\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0430 \u0438\u0437 \u043b\u0443\u043a\u0430"}),Object(n.jsxs)("div",{className:"training-box-info-params",children:[Object(n.jsxs)("p",{children:["\u0422\u0438\u043f \u043b\u0443\u043a\u0430: ",this.props.trainingParams.trainingParamsBow.weaponType.label]}),Object(n.jsxs)("p",{children:["\u0422\u0438\u043f \u043c\u0438\u0448\u0435\u043d\u0438: ",this.props.trainingParams.trainingParamsBow.targetType.label]}),Object(n.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432: ",this.displayTotalShots()]}),Object(n.jsxs)("p",{children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c: ",this.displayTotalAccuracy()]})]}),Object(n.jsxs)("div",{className:"training-box-info-params",children:["\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u043c\u0438\u0448\u0435\u043d\u0438: ",this.props.trainingParams.trainingParamsBow.range," \u043c."]}),Object(n.jsx)("div",{className:"training-box-info-tools",children:Object(n.jsx)("a",{onClick:this.openTraining,className:"btn",children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"})})]})]}),Object(n.jsx)("a",{onClick:this.deleteTrainingParams,className:"training-box-close",children:"\xd7"})]})}}]),a}(r.a.Component),fe=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).deleteTrainingParams=n.deleteTrainingParams.bind(Object(T.a)(n)),n.openTraining=n.openTraining.bind(Object(T.a)(n)),n.displayTotalDays=n.displayTotalDays.bind(Object(T.a)(n)),n.displayTotalShots=n.displayTotalShots.bind(Object(T.a)(n)),n.displayTotalAccuracy=n.displayTotalAccuracy.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"openTraining",value:function(){var e=Object(x.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new w({trainingParamsUuid:this.props.trainingParams.uuid}),e.next=3,localStorage.setItem("trainingCurrent",JSON.stringify(t));case 3:document.location="/training_start";case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteTrainingParams",value:function(e){e.preventDefault(),this.props.onDelete(this.props.trainingParams)}},{key:"displayTotalDays",value:function(){return this.props.trainingParams?new ee(this.props.trainingParams).countDays():0}},{key:"displayTotalShots",value:function(){return this.props.trainingParams?new ee(this.props.trainingParams).countTotalShots():"-"}},{key:"displayTotalAccuracy",value:function(){if(this.props.trainingParams){var e=new ee(this.props.trainingParams);if(null!==e.countAverageAccuracy())return e.countAverageAccuracy().toString().concat("%")}return"-"}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"training-box-container",children:Object(n.jsxs)("div",{className:"training-box",children:[Object(n.jsx)("div",{className:"training-box-avatar",children:Object(n.jsx)("div",{className:"training-box-avatar-img",style:{backgroundImage:"url("+this.props.trainingParams.image+")"}})}),Object(n.jsxs)("div",{className:"training-box-info",children:[Object(n.jsx)("div",{className:"training-box-info-title",children:this.props.trainingParams.name}),Object(n.jsx)("div",{className:"training-box-info-type",children:"\u0421\u0442\u0435\u043d\u0434\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0430 \u0438\u0437 \u0430\u0440\u0431\u0430\u043b\u0435\u0442\u0430"}),Object(n.jsxs)("div",{className:"training-box-info-params",children:[Object(n.jsxs)("p",{children:["\u0422\u0438\u043f \u0430\u0440\u0431\u0430\u043b\u0435\u0442\u0430: ",this.props.trainingParams.trainingParamsCrossbow.weaponType.label]}),Object(n.jsxs)("p",{children:["\u0422\u0438\u043f \u043c\u0438\u0448\u0435\u043d\u0438: ",this.props.trainingParams.trainingParamsCrossbow.targetType.label]}),Object(n.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432: ",this.displayTotalShots()]}),Object(n.jsxs)("p",{children:["\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c: ",this.displayTotalAccuracy()]})]}),Object(n.jsxs)("div",{className:"training-box-info-params",children:["\u0420\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u043c\u0438\u0448\u0435\u043d\u0438: ",this.props.trainingParams.trainingParamsCrossbow.range," \u043c."]}),Object(n.jsx)("div",{className:"training-box-info-tools",children:Object(n.jsx)("a",{onClick:this.openTraining,className:"btn",children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"})})]}),Object(n.jsx)("a",{onClick:this.deleteTrainingParams,className:"training-box-close",children:"\xd7"})]})})}}]),a}(r.a.Component),ve=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(D.a,{className:"training-list-empty-box",children:[Object(n.jsx)(m.a,{fit:"contain",src:"sad.png"}),Object(n.jsx)(E.a,{color:"white",size:"large",children:this.props.text})]})}}]),a}(r.a.Component),ye=a(434),xe=a(435),Te=a(436),we=a(422),Pe=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onConfirm=n.onConfirm.bind(Object(T.a)(n)),n.onClose=n.onClose.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"onConfirm",value:function(e){e.preventDefault(),this.props.onConfirm()}},{key:"onClose",value:function(e){e.preventDefault(),this.props.onClose()}},{key:"render",value:function(){return Object(n.jsx)("div",{className:this.props.show?"message-nightbox":"message-nightbox hidden",children:Object(n.jsx)(ye.a,{className:"message-box",width:"medium",background:"light-1",children:Object(n.jsx)(xe.a,{className:"message-box-body",style:{paddingBottom:"10px"},children:Object(n.jsxs)(Te.a,{children:[Object(n.jsx)(D.a,{pad:"small",children:Object(n.jsx)(E.a,{className:"message-box-text",children:this.props.message?this.props.message:""})}),Object(n.jsxs)(D.a,{className:"message-box-tools",pad:"small",children:[Object(n.jsx)(we.a,{className:"message-box-btn",onClick:this.onConfirm,type:"button",label:"\u0414\u0430"}),Object(n.jsx)(we.a,{className:"message-box-btn",onClick:this.onClose,type:"button",label:"\u041d\u0435\u0442"})]})]})})})})}}]),a}(r.a.Component),ke=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={trainingList:[],showDeleteDialog:!1,trainingParams:null},n.deleteTrainingParams=n.deleteTrainingParams.bind(Object(T.a)(n)),n.showDeleteDialog=n.showDeleteDialog.bind(Object(T.a)(n)),n.closeDeleteDialog=n.closeDeleteDialog.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("trainingList"));e&&this.setState({trainingList:e})}},{key:"deleteTrainingParams",value:function(){var e=Object(x.a)(y.a.mark((function e(){var t,a,n=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.trainingParams||!this.state.trainingParams.uuid){e.next=13;break}return e.next=3,JSON.parse(localStorage.getItem("trainingList"));case 3:if(!(t=e.sent)){e.next=13;break}if(!((a=t.findIndex((function(e){return e.uuid===n.state.trainingParams.uuid})))>=0)){e.next=13;break}return t.splice(a,1),e.next=10,localStorage.setItem("trainingList",JSON.stringify(t));case 10:return e.next=12,this.setState({trainingList:t});case 12:this.closeDeleteDialog();case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showDeleteDialog",value:function(e){this.setState({trainingParams:e}),this.setState({showDeleteDialog:!0})}},{key:"closeDeleteDialog",value:function(){this.setState({showDeleteDialog:!1})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"container panel",children:[Object(n.jsxs)("div",{className:"training-list",children:[this.state.trainingList.length>0&&this.state.trainingList.map((function(t){return t.weaponType==U.WEAPON_TYPE_BOW?Object(n.jsx)(Oe,{onDelete:e.showDeleteDialog,trainingParams:t}):t.weaponType==U.WEAPON_TYPE_CROSSBOW?Object(n.jsx)(fe,{onDelete:e.showDeleteDialog,trainingParams:t}):Object(n.jsx)(Oe,{onDelete:e.showDeleteDialog,trainingParams:t})})),0==this.state.trainingList.length&&Object(n.jsx)(ve,{text:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a \u043f\u0443\u0441\u0442"})]}),Object(n.jsx)(Pe,{onConfirm:this.deleteTrainingParams,onClose:this.closeDeleteDialog,show:this.state.showDeleteDialog,message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b,\u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443?"})]})}}]),a}(r.a.Component);function Ce(e){return"new"===e.mode?Object(n.jsx)(me,{}):"list"===e.mode?Object(n.jsx)(ke,{}):Object(n.jsx)(me,{})}var Se=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={mode:"new"},n.switchMode=n.switchMode.bind(Object(T.a)(n)),n}return Object(l.a)(a,[{key:"switchMode",value:function(e){this.setState({mode:e})}},{key:"render",value:function(){return Object(n.jsx)("main",{children:Object(n.jsxs)("div",{className:"tab-panel",children:[Object(n.jsx)("div",{className:"tab-panel-switch",children:Object(n.jsxs)("div",{className:"container panel",children:[Object(n.jsx)("a",{onClick:this.switchMode.bind(this,"new"),className:"new"===this.state.mode?"btn":"btn btn-secondary",children:"\u041d\u043e\u0432\u0430\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430"}),Object(n.jsx)("a",{onClick:this.switchMode.bind(this,"list"),className:"list"===this.state.mode?"btn":"btn btn-secondary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"})]})}),Object(n.jsx)("div",{className:"tab-panel-body",children:Object(n.jsx)(Ce,{mode:this.state.mode})})]})})}}]),a}(r.a.Component),Ne=a(437),Ae=(r.a.Component,{pages:[{menu:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",route:"/main",component:f,selected:!0},{menu:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430",route:"/training",component:Se,selected:!1},{menu:null,route:"/training_start",component:ae,selected:!1}],training:[{mode:{id:0,title:"\u0421\u0442\u0435\u043d\u0434\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0430 \u0438\u0437 \u043b\u0443\u043a\u0430",image:"service_1.png"}},{mode:{id:1,title:"\u0421\u0442\u0435\u043d\u0434\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0435\u043b\u044c\u0431\u0430 \u0438\u0437 \u0430\u0440\u0431\u0430\u043b\u0435\u0442\u0430",image:"service_2.png"}}]}),_e=a(445),De=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"footer",children:[Object(n.jsxs)("div",{className:"container center",children:[Object(n.jsx)(_e.a,{href:"https://vk.com/dmitry_onodera",title:"\u042f \u0432\u043e \u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",icon:Object(n.jsx)(m.a,{src:"vk.png"}),hoverIndicator:!0}),Object(n.jsx)(_e.a,{href:"https://www.instagram.com/deep_forest_crossbow",title:"\u042f \u0432 Instagram",icon:Object(n.jsx)(m.a,{src:"instagram.png"}),hoverIndicator:!0})]}),Object(n.jsx)("div",{className:"container center",children:Object(n.jsx)(E.a,{color:"white",margin:"large",size:"large",children:"Copyright \u0412\u043e\u043b\u0433\u0430\u043f\u043a\u0438\u043d \u0414.\u041d, 2020\u0433."})})]})}}]),a}(r.a.Component),Ee=a(195),We=a(21);var Re=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{className:"App-container",children:[Object(n.jsx)(d,{}),Object(n.jsx)(Ee.a,{children:Object(n.jsxs)(We.d,{children:[Ae.pages.map((function(e){return Object(n.jsx)(We.b,{exact:function(){return"/"==e.route},path:e.route,component:e.component})})),Object(n.jsx)(We.a,{from:"/",to:"/main"})]})})]}),Object(n.jsx)(De,{})]})},Be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,448)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Re,{})}),document.getElementById("root")),Be()}},[[419,1,2]]]);
//# sourceMappingURL=main.6d1c55f3.chunk.js.map